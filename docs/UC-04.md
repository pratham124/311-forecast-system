# Use Case UC-04: Generate 7-Day Demand Forecast

**Goal in Context**: Provide a 7-day demand forecast per service category (and geography when available) so operational planning decisions can be made for crew and equipment allocation for the coming week.  
**Scope**: Operations Analytics System  
**Level**: User Goal  
**Primary Actor**: Operational Manager  
**Secondary Actors**: Forecasting Engine, Data Storage System  
**Trigger**: Operational Manager requests a weekly demand forecast or a scheduled weekly forecast generation event occurs.

---

## Success End Condition
* A 7-day demand forecast is generated and available, broken down by service category and geography when data supports it.

## Failed End Condition
* No forecast is produced; the system logs the failure and retains the most recent valid weekly forecast.

---

## Preconditions
* Valid historical and current operational data is available.  
* Forecasting models are configured and operational.  
* Required computational resources are available.

---

## Main Success Scenario
1. Operational Manager initiates a weekly forecast request or a scheduled process triggers forecast generation.  
2. System retrieves the latest validated operational data.  
3. System prepares input features for the forecasting model.  
4. System runs the forecasting engine to predict demand for the next 7 days.  
5. System aggregates forecast results by service category.  
6. System further segments results by geography where data is available.  
7. System stores the generated forecast in the Data Storage System.  
8. System marks the forecast as current and available for operational use.  
9. System logs successful forecast generation.

---

## Extensions
* **2a**: Required data unavailable  
  * 2a1: System logs missing data issue.  
  * 2a2: System marks forecast generation as failed.  

* **4a**: Forecasting engine error  
  * 4a1: System logs model execution failure.  
  * 4a2: System marks forecast generation as failed.  

* **6a**: Geographic data incomplete  
  * 6a1: System generates forecast without geographic breakdown.  
  * 6a2: System logs limitation.

* **7a**: Storage failure  
  * 7a1: System logs storage error.  
  * 7a2: System marks forecast generation as failed.

---

## Related Information
* **Priority**: High  
* **Frequency**: Weekly or on-demand  
* **Open Issues**: Model accuracy thresholds, aggregation granularity, and update cadence not yet defined.

# UC-04 Fully Dressed Scenario Narratives  
**Use Case:** Generate 7-Day Demand Forecast  

---

## Main Success Scenario Narrative

An operational manager is preparing to allocate crews and equipment for the upcoming week. At the scheduled weekly forecast time, or after manually requesting a forecast, the system begins the forecast generation process.

The system retrieves the most recent validated operational datasets, including historical service request trends, service categories, and geographic information when available.

The system prepares model input features by aggregating recent patterns, accounting for day-of-week effects, seasonality, and other relevant forecasting signals.

The forecasting engine processes the prepared data and produces demand predictions for each of the next seven days.

The system aggregates these predictions by service category, providing projected workload per service type. Where geographic data is available, the system further segments the forecast by location to support area-based resource allocation.

The completed weekly forecast is stored in the operational data repository and marked as the current weekly forecast.

The system logs successful generation, including timestamp, model execution details, and forecast horizon. The operational manager can now use this forecast to plan crew assignments and equipment distribution for the week.

---

## Alternative Scenario 2a — Required Data Unavailable

The forecast process begins, but the system cannot retrieve required operational data — for example, recent validated datasets are missing, incomplete, or corrupted.

Because reliable input data is not available, the system does not proceed with feature preparation or model execution.

The system logs the missing data condition and marks the forecast generation attempt as failed.

The previous valid weekly forecast remains available for operational reference.

---

## Alternative Scenario 4a — Forecasting Engine Error

The system retrieves and prepares data successfully. However, during model execution, the forecasting engine encounters an error such as a runtime failure, model configuration issue, or computational resource problem.

The system stops forecast processing and logs the model execution failure.

No new weekly forecast is stored. The previous forecast remains active for operational planning.

---

## Alternative Scenario 6a — Geographic Data Incomplete

The system successfully runs the forecasting model, but the input data lacks sufficient geographic detail.

The system generates a forecast segmented by service category only. Geographic breakdowns are omitted.

The system logs the limitation and marks the forecast as partially segmented. The forecast is still stored and made available for operational planning.

---

## Alternative Scenario 7a — Storage Failure

The weekly forecast is successfully generated and segmented. When the system attempts to store the forecast, a storage failure occurs due to database outage, permission issues, or capacity limits.

The system logs the storage error and marks the run as failed.

The newly generated forecast is not marked as current. The previous forecast remains active.

---

## Key Behavioral Theme Across All Alternatives

Across all failure scenarios:

- No incomplete or unreliable forecast replaces the current valid forecast  
- Previously valid forecasts remain available  
- Failures are logged for monitoring and investigation  
- Operational continuity and decision reliability are prioritized
